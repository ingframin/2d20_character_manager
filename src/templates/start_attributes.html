<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title> Mutant Chronicles 3rd edition - Standard Generation</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    <body>
        <h1>Standard Generation</h1>
        <p>Adjust attribute values:</p>
        <div id="error" color="red">{{error}}</div>
        <form action="" method="POST" id="attribs">
            <div class="grid-container">
                {% for attribute in attributes %}
                <div class="grid-item">
                    <label>{{ attribute.name }}</label>
                </div>
                <div class="grid-item">
                    <input type="number" name="{{ attribute.name }}" value="{{ attribute.value }}" max="6" min="4" onchange="disable_next()"></br>
                </div>
                {% endfor %}
            </div>
                        
            <input type="submit" value="Validate Attributes">
        </form>
        <p>Total points: {{ total_points }}</p>
        <p>Total life points: {{ total_LP }}</p>
        <button type="button" id="next_btn" onclick="window.location.href='faction_heritage'" >Next: Faction and Heritage</button> 
    </body>
    <script>
        function disable_next(){
            btn = document.getElementById("next_btn")
            btn.setAttribute("disabled", "disabled");
            btn.setAttribute('style',"border:1px solid teal;background-color: grey;")

        }

        if ('{{next_ok}}' == 'false'){
            disable_next()
        }
        
    </script>
</html>
